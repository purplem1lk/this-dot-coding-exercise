{"ast":null,"code":"var _jsxFileName = \"/Users/susanma/ThisDot/this-dot-final/src/components/GitHubUsersSearch.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { usePaginatedQuery } from 'react-query';\nimport { SubmitButton } from './SubmitButton';\nimport { UserCard } from './UserCard';\nimport { NoResultsText } from './NoResultsText';\nimport { TotalResultsCount } from './TotalResultsCount';\n\nconst fetchUsers = async (key, page, {\n  searchTerm\n}) => {\n  const response = await fetch(`https://api.github.com/search/users?q=${searchTerm}&per_page=3&page=${page}`);\n  const data = await response.json();\n  return data;\n};\n\nexport const GitHubUsersSearch = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isEnabled, setIsEnabled] = useState(false);\n  const [pageCount, setPageCount] = useState(0);\n  const [page, setPage] = useState(1);\n  const {\n    resolvedData,\n    latestData,\n    refetch\n  } = usePaginatedQuery(['users', page, {\n    searchTerm\n  }], fetchUsers, {\n    enabled: isEnabled\n  });\n  useEffect(() => {\n    if (resolvedData && resolvedData.total_count) {\n      if (resolvedData.total_count < 3) {\n        setPageCount(1);\n      } else {\n        setPageCount(resolvedData.total_count / 3);\n      }\n    }\n  }, [resolvedData]);\n\n  const handleSearchInputChange = event => {\n    setIsEnabled(false);\n    setSearchTerm(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row text-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"mr-2\",\n    style: {\n      height: '37px'\n    },\n    onChange: handleSearchInputChange,\n    value: searchTerm,\n    placeholder: \"Type here!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: e => {\n      e.preventDefault();\n      setIsEnabled(true);\n      refetch();\n    },\n    isDisabled: !searchTerm.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })))), resolvedData && resolvedData.items && resolvedData.items.length === 0 && /*#__PURE__*/React.createElement(NoResultsText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 44\n    }\n  }), resolvedData && resolvedData.items && resolvedData.items.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PaginationButton, {\n    page: page,\n    setPage: setPage,\n    pageCount: pageCount,\n    latestData: latestData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, resolvedData && resolvedData.total_count && /*#__PURE__*/React.createElement(TotalResultsCount, {\n    totalResultsCount: resolvedData.total_count,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Click the user's image to view more details!\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, resolvedData.items.map(user => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-auto\",\n    key: user.login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(UserCard, {\n    userHtml: user.html_url,\n    login: user.login,\n    userAvatar: user.avatar_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }))))));\n};","map":{"version":3,"sources":["/Users/susanma/ThisDot/this-dot-final/src/components/GitHubUsersSearch.tsx"],"names":["React","useEffect","useState","usePaginatedQuery","SubmitButton","UserCard","NoResultsText","TotalResultsCount","fetchUsers","key","page","searchTerm","response","fetch","data","json","GitHubUsersSearch","setSearchTerm","isEnabled","setIsEnabled","pageCount","setPageCount","setPage","resolvedData","latestData","refetch","enabled","total_count","handleSearchInputChange","event","target","value","height","e","preventDefault","length","items","map","user","login","html_url","avatar_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { usePaginatedQuery } from 'react-query';\n\nimport { SubmitButton } from './SubmitButton';\nimport { UserCard } from './UserCard';\nimport { NoResultsText } from './NoResultsText';\nimport { TotalResultsCount } from './TotalResultsCount';\nimport { Paginator } from './Paginator';\n\nconst fetchUsers = async (\n  key: string,\n  page: number,\n  { searchTerm }: { searchTerm: string }\n) => {\n  const response = await fetch(\n    `https://api.github.com/search/users?q=${searchTerm}&per_page=3&page=${page}`\n  );\n  const data = await response.json();\n  return data;\n};\n\nexport const GitHubUsersSearch = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isEnabled, setIsEnabled] = useState(false);\n  const [pageCount, setPageCount] = useState(0);\n  const [page, setPage] = useState(1);\n  const { resolvedData, latestData, refetch } = usePaginatedQuery(\n    ['users', page, { searchTerm }],\n    fetchUsers,\n    {\n      enabled: isEnabled,\n    }\n  );\n\n  useEffect(() => {\n    if (resolvedData && resolvedData.total_count) {\n      if (resolvedData.total_count < 3) {\n        setPageCount(1);\n      } else {\n        setPageCount(resolvedData.total_count / 3);\n      }\n    }\n  }, [resolvedData]);\n\n  const handleSearchInputChange = (event: any) => {\n    setIsEnabled(false);\n    setSearchTerm(event.target.value);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row text-center mt-4\">\n        <div className=\"col\">\n          <form>\n            <input\n              className=\"mr-2\"\n              style={{ height: '37px' }}\n              onChange={handleSearchInputChange}\n              value={searchTerm}\n              placeholder=\"Type here!\"\n            />\n            <SubmitButton\n              onClick={(e: any) => {\n                e.preventDefault();\n                setIsEnabled(true);\n                refetch();\n              }}\n              isDisabled={!searchTerm.length}\n            />\n          </form>\n        </div>\n      </div>\n\n      {resolvedData &&\n        resolvedData.items &&\n        resolvedData.items.length === 0 && <NoResultsText />}\n\n      {resolvedData && resolvedData.items && resolvedData.items.length > 0 && (\n        <>\n          <PaginationButton\n            page={page}\n            setPage={setPage}\n            pageCount={pageCount}\n            latestData={latestData}\n          />\n          <div className=\"row justify-content-center mt-3\">\n            <div className=\"col-auto\">\n              {resolvedData && resolvedData.total_count && (\n                <TotalResultsCount\n                  totalResultsCount={resolvedData.total_count}\n                />\n              )}\n              <div>\n                <em>Click the user's image to view more details!</em>\n              </div>\n            </div>\n          </div>\n          <div className=\"row justify-content-center mt-3\">\n            {resolvedData.items.map((user: any) => (\n              <div className=\"col-auto\" key={user.login}>\n                <UserCard\n                  userHtml={user.html_url}\n                  login={user.login}\n                  userAvatar={user.avatar_url}\n                />\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}